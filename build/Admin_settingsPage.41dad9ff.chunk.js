(self.webpackChunkserver=self.webpackChunkserver||[]).push([[5895],{62053:(B,E,t)=>{"use strict";t.r(E),t.d(E,{SettingsPage:()=>Bt,default:()=>We});var e=t(67294),l=t(64289),d=t(16550),r=t(17034),c=t(86896),x=t(64593),L=t(48474),f=t(19631),v=t(15861),P=t(64687),I=t.n(P),j=t(88767),Z=t(185),S=t(53979),R=t(29728),O=t(49066),C=t(11047),g=t(75515),A=t(11276),D=t(74571),K=t(23620),Q=t(85018),G=t(17772),J=t(87751),_=t(45697),s=t.n(_),U=t(41580);const $=750,X=100,nt=["image/jpeg","image/png","image/svg+xml"];var Y=t(73987),tt=t(17973),ot=t(12028),st=t(59689),lt=t(96315),it=t(30815),H=t(42866),zt=t(24969),rt=t(18172);const xt={localImage:void 0},Zt=(o=xt,n)=>(0,rt.ZP)(o,a=>{switch(n.type){case"SET_LOCAL_IMAGE":{a.localImage=n.value;break}default:return a}}),dt=({onChangeLogo:o,customLogo:n,goTo:a,Component:i,modalTitle:u,next:y,prev:p,currentStep:M})=>{const[{localImage:h},m]=(0,e.useReducer)(Zt,xt),{formatMessage:z}=(0,c.Z)(),T=W=>{m({type:"SET_LOCAL_IMAGE",value:W})},F=()=>{a(null)};return M?e.createElement(H.P,{labelledBy:"modal",onClose:F},e.createElement(zt.x,null,e.createElement(g.Z,{fontWeight:"bold",as:"h2",id:"modal"},z(u))),e.createElement(i,{setLocalImage:T,goTo:a,next:y,prev:p,onClose:F,asset:h||n,onChangeLogo:o})):null};dt.defaultProps={Component:void 0,currentStep:void 0,customLogo:void 0,modalTitle:void 0,next:null,prev:null},dt.propTypes={Component:s().elementType,currentStep:s().string,customLogo:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}),goTo:s().func.isRequired,modalTitle:s().shape({id:s().string,defaultMessage:s().string}),next:s().string,onChangeLogo:s().func.isRequired,prev:s().string};const Ft=dt,yt={currentStep:void 0},Wt=(o=yt,n)=>(0,rt.ZP)(o,a=>{switch(n.type){case"GO_TO":{a.currentStep=n.to;break}default:return a}});var Kt=t(82777),ct=t(60633),$t=t(70004),ut=t(42761),Nt=t(1565),Gt=t(45377),Ht=t(54574),Vt=t(52624),bt=t(96404),mt=t(36856),Qt=t(35957);const Xt={id:"Settings.application.customization.modal.upload.error-format",defaultMessage:"Wrong format uploaded (accepted formats only: jpeg, jpg, png, svg)."},St={id:"Settings.application.customization.modal.upload.error-size",defaultMessage:"The file uploaded is too large (max dimension: {dimension}x{dimension}, max file size: {size}KB)"},Jt=o=>new Promise(n=>{const a=new FileReader;a.onload=()=>{const i=new Image;i.onload=function(){n({width:i.width,height:i.height})},i.src=a.result},a.readAsDataURL(o)}),Yt=(o,n)=>({ext:o.name.split(".").pop(),size:o.size/1e3,name:o.name,url:URL.createObjectURL(o),rawFile:o,width:n.width,height:n.height}),Rt=async o=>{let n;if(!nt.includes(o.type))throw n=new Error("File format"),n.displayMessage=Xt,n;const i=await Jt(o);if(!(i.width<=$&&i.height<=$))throw n=new Error("File sizing"),n.displayMessage=St,n;const y=Yt(o,i);if(!(y.size<=X))throw n=new Error("File sizing"),n.displayMessage=St,n;return y},wt=(0,Nt.ZP)(Gt._)`
  opacity: 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,gt=({setLocalImage:o,goTo:n,next:a,onClose:i})=>{const{formatMessage:u}=(0,c.Z)(),[y,p]=(0,e.useState)(!1),[M,h]=(0,e.useState)(void 0),m=(0,e.useRef)(null),z=()=>p(!0),T=()=>p(!1),F=V=>{V.preventDefault(),m.current.click()},W=async()=>{T();const V=m.current.files[0];if(V)try{const b=await Rt(V);o(b),n(a)}catch(b){if(b.displayMessage)h(u(b.displayMessage,{size:X,dimension:$})),m.current.focus();else throw b}},N=()=>y?"primary500":M?"danger600":"neutral300";return e.createElement(e.Fragment,null,e.createElement("form",null,e.createElement(U.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(Ht.g,{name:"logo-upload",error:M},e.createElement("label",{htmlFor:"logo-upload"},e.createElement(C.k,{direction:"column",alignItems:"stretch",gap:2},e.createElement(C.k,{paddingTop:9,paddingBottom:7,hasRadius:!0,justifyContent:"center",direction:"column",background:y?"primary100":"neutral100",borderColor:N(),borderStyle:"dashed",borderWidth:"1px",position:"relative",onDragEnter:z,onDragLeave:T},e.createElement(Vt.J,{color:"primary600",width:`${60/16}rem`,height:`${60/16}rem`,as:Qt.Z,"aria-hidden":!0}),e.createElement(U.x,{paddingTop:3,paddingBottom:5},e.createElement(g.Z,{variant:"delta",as:"span"},u({id:"Settings.application.customization.modal.upload.drag-drop",defaultMessage:"Drag and Drop here or"}))),e.createElement(wt,{accept:nt,cursor:"pointer",as:"input",type:"file",name:"files",tabIndex:-1,zIndex:1,onChange:W,ref:m,id:"logo-upload"}),e.createElement(R.z,{type:"button",onClick:F},u({id:"Settings.application.customization.modal.upload.cta.browse",defaultMessage:"Browse files"})),e.createElement(U.x,{paddingTop:6},e.createElement(g.Z,{variant:"pi",textColor:"neutral600"},u({id:"Settings.application.customization.modal.upload.file-validation",defaultMessage:"Max dimension: {dimension}x{dimension}, Max size: {size}KB"},{size:X,dimension:$})))),e.createElement(bt.c,null)))))),e.createElement(mt.m,{startActions:e.createElement(R.z,{onClick:i,variant:"tertiary"},u({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"}))}))};gt.defaultProps={next:null},gt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const kt=gt;var qt=t(16364),_t=t(52861);const te=async o=>{try{const n=await _t.default.get(o,{responseType:"blob",timeout:8e3});return new File([n.data],n.config.url,{type:n.headers["content-type"]})}catch(n){throw n.displayMessage={id:"Settings.application.customization.modal.upload.error-network",defaultMessage:"Network error"},n}},pt=({goTo:o,next:n,onClose:a,setLocalImage:i})=>{const{formatMessage:u}=(0,c.Z)(),[y,p]=(0,e.useState)(""),[M,h]=(0,e.useState)(null),m=T=>{p(T.target.value)},z=async()=>{try{const T=await te(y),F=await Rt(T);i(F),o(n)}catch(T){if(T.displayMessage)h(u(T.displayMessage,{size:X,dimension:$}));else throw T}};return e.createElement("form",{onSubmit:T=>{T.preventDefault(),z()}},e.createElement(U.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(qt.o,{label:u({id:"Settings.application.customization.modal.upload.from-url.input-label",defaultMessage:"URL"}),error:M,onChange:m,value:y,name:"logo-url"})),e.createElement(mt.m,{startActions:e.createElement(R.z,{onClick:a,variant:"tertiary"},u({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(R.z,{type:"submit"},u({id:"Settings.application.customization.modal.upload.next",defaultMessage:"Next"}))}))};pt.defaultProps={next:null},pt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const ee=pt,ht=({setLocalImage:o,goTo:n,next:a,onClose:i})=>{const{formatMessage:u}=(0,c.Z)();return e.createElement(Kt.v,{label:u({id:"Settings.application.customization.modal.tab.label",defaultMessage:"How do you want to upload your assets?"}),variant:"simple"},e.createElement(U.x,{paddingLeft:8,paddingRight:8},e.createElement(ct.m,null,e.createElement(ct.O,null,u({id:"Settings.application.customization.modal.upload.from-computer",defaultMessage:"From computer"})),e.createElement(ct.O,null,u({id:"Settings.application.customization.modal.upload.from-url",defaultMessage:"From url"}))),e.createElement($t.i,null)),e.createElement(ut.n,null,e.createElement(ut.x,null,e.createElement(kt,{onClose:i,setLocalImage:o,goTo:n,next:a})),e.createElement(ut.x,null,e.createElement(ee,{onClose:i,setLocalImage:o,goTo:n,next:a}))))};ht.defaultProps={next:null},ht.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const ne=ht;var oe=t(99220),ae=t(19093),se=t(87535),le=t(25001),ie=t(75517),Tt=t(20799),re=t(41384);const Pt=({asset:o})=>{const{formatMessage:n}=(0,c.Z)();return e.createElement(oe.Z,null,e.createElement(ae.O,null,e.createElement(se.H,{size:"S",src:o.url})),e.createElement(le.e,null,e.createElement(ie.a,null,e.createElement(Tt.l,null,o.name),e.createElement(Tt._,null,`${o.ext.toUpperCase()} - ${o.width}\u2715${o.height}`)),e.createElement(re.E,null,n({id:"Settings.application.customization.modal.pending.card-badge",defaultMessage:"image"}))))};Pt.propTypes={asset:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}).isRequired};const de=Pt,Et=({onClose:o,asset:n,prev:a,next:i,goTo:u,setLocalImage:y,onChangeLogo:p})=>{const{formatMessage:M}=(0,c.Z)(),h=()=>{y(void 0),u(a)},m=()=>{p(n),u(i)};return e.createElement(e.Fragment,null,e.createElement(U.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(C.k,{justifyContent:"space-between",paddingBottom:6},e.createElement(C.k,{direction:"column",alignItems:"flex-start"},e.createElement(g.Z,{variant:"pi",fontWeight:"bold"},M({id:"Settings.application.customization.modal.pending.title",defaultMessage:"Logo ready to upload"})),e.createElement(g.Z,{variant:"pi",textColor:"neutral500"},M({id:"Settings.application.customization.modal.pending.subtitle",defaultMessage:"Manage the chosen logo before uploading it"}))),e.createElement(R.z,{onClick:h,variant:"secondary"},M({id:"Settings.application.customization.modal.pending.choose-another",defaultMessage:"Choose another logo"}))),e.createElement(U.x,{maxWidth:(0,l.Q1)(180)},n.url?e.createElement(de,{asset:n}):null)),e.createElement(mt.m,{startActions:e.createElement(R.z,{onClick:o,variant:"tertiary"},M({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(R.z,{onClick:m},M({id:"Settings.application.customization.modal.pending.upload",defaultMessage:"Upload logo"}))}))};Et.defaultProps={next:null,prev:null},Et.propTypes={goTo:s().func.isRequired,asset:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}).isRequired,next:s().string,onClose:s().func.isRequired,onChangeLogo:s().func.isRequired,prev:s().string,setLocalImage:s().func.isRequired};const ce={upload:{Component:ne,modalTitle:{id:"Settings.application.customization.modal.upload",defaultMessage:"Upload logo"},next:"pending",prev:null},pending:{Component:Et,modalTitle:{id:"Settings.application.customization.modal.pending",defaultMessage:"Pending logo"},next:null,prev:"upload"}},ft=({canUpdate:o,customLogo:n,defaultLogo:a,hint:i,label:u,onChangeLogo:y,onResetLogo:p})=>{const[{currentStep:M},h]=(0,e.useReducer)(Wt,yt),{Component:m,next:z,prev:T,modalTitle:F}=ce[M]||{},{formatMessage:W}=(0,c.Z)(),N=V=>{h({type:"GO_TO",to:V})};return e.createElement(e.Fragment,null,e.createElement(Y.F,{label:u,selectedSlide:0,hint:i,previousLabel:"",nextLabel:"",onNext:()=>{},onPrevious:()=>{},secondaryLabel:n?.name||"logo.png",actions:e.createElement(tt.b,null,e.createElement(ot.h,{disabled:!o,onClick:()=>N(n?"pending":"upload"),label:W({id:"Settings.application.customization.carousel.change-action",defaultMessage:"Change logo"}),icon:e.createElement(lt.Z,null)}),n&&e.createElement(ot.h,{disabled:!o,onClick:p,label:W({id:"Settings.application.customization.carousel.reset-action",defaultMessage:"Reset logo"}),icon:e.createElement(it.Z,null)}))},e.createElement(st.q,{label:W({id:"Settings.application.customization.carousel-slide.label",defaultMessage:"Logo slide"})},e.createElement(U.x,{maxHeight:"40%",maxWidth:"40%",as:"img",src:n?.url||a,alt:W({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"})}))),e.createElement(Ft,{Component:m,currentStep:M,onChangeLogo:y,customLogo:n,goTo:N,next:z,prev:T,modalTitle:F}))};ft.defaultProps={canUpdate:!1,customLogo:null,hint:null},ft.propTypes={canUpdate:s().bool,customLogo:s().shape({url:s().string,name:s().string}),label:s().string.isRequired,hint:s().string,defaultLogo:s().string.isRequired,onChangeLogo:s().func.isRequired,onResetLogo:s().func.isRequired};const Ot=ft,vt={menuLogo:{display:null,submit:{rawFile:null,isReset:!1}},authLogo:{display:null,submit:{rawFile:null,isReset:!1}}},ue=(o=vt,n)=>(0,rt.ZP)(o,a=>{switch(n.type){case"SET_CUSTOM_MENU_LOGO":{a.menuLogo.display=n.value,a.menuLogo.submit.rawFile=n.value.rawFile;break}case"SET_CUSTOM_AUTH_LOGO":{a.authLogo.display=n.value,a.authLogo.submit.rawFile=n.value.rawFile;break}case"RESET_CUSTOM_MENU_LOGO":{a.menuLogo.display=null,a.menuLogo.submit={rawFile:null,isReset:!0};break}case"RESET_CUSTOM_AUTH_LOGO":{a.authLogo.display=null,a.authLogo.submit={rawFile:null,isReset:!0};break}default:return a}});var me=t(82492),ge=t.n(me);const pe=(o,n)=>ge()(o,{menuLogo:{display:n.menuLogo},authLogo:{display:n.authLogo}}),Ct=(0,e.forwardRef)(({canUpdate:o,projectSettingsStored:n},a)=>{const{formatMessage:i}=(0,c.Z)(),{trackUsage:u}=(0,l.rS)(),{logos:{menu:y,auth:p}}=(0,L.um)(),[{menuLogo:M,authLogo:h},m]=(0,e.useReducer)(ue,vt,()=>pe(vt,n)),z=N=>{m({type:"SET_CUSTOM_MENU_LOGO",value:N})},T=()=>{u("didClickResetLogo",{logo:"menu"}),m({type:"RESET_CUSTOM_MENU_LOGO"})},F=N=>{m({type:"SET_CUSTOM_AUTH_LOGO",value:N})},W=()=>{u("didClickResetLogo",{logo:"auth"}),m({type:"RESET_CUSTOM_AUTH_LOGO"})};return(0,e.useImperativeHandle)(a,()=>({getValues:()=>({menuLogo:M.submit,authLogo:h.submit})})),e.createElement(U.x,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(g.Z,{variant:"delta",as:"h3"},i({id:"Settings.application.customization",defaultMessage:"Customization"})),e.createElement(g.Z,{variant:"pi",textColor:"neutral600"},i({id:"Settings.application.customization.size-details",defaultMessage:"Max dimension: {dimension}\xD7{dimension}, Max file size: {size}KB"},{dimension:$,size:X})),e.createElement(A.r,{paddingTop:4,gap:4},e.createElement(D.P,{col:6,s:12},e.createElement(Ot,{canUpdate:o,customLogo:M.display,defaultLogo:y.default,hint:i({id:"Settings.application.customization.menu-logo.carousel-hint",defaultMessage:"Replace the logo in the main navigation"}),label:i({id:"Settings.application.customization.carousel.menu-logo.title",defaultMessage:"Menu logo"}),onChangeLogo:z,onResetLogo:T})),e.createElement(D.P,{col:6,s:12},e.createElement(Ot,{canUpdate:o,customLogo:h.display,defaultLogo:p.default,hint:i({id:"Settings.application.customization.auth-logo.carousel-hint",defaultMessage:"Replace the logo in the authentication pages"}),label:i({id:"Settings.application.customization.carousel.auth-logo.title",defaultMessage:"Auth logo"}),onChangeLogo:F,onResetLogo:W}))))});Ct.defaultProps={canUpdate:!1,projectSettingsStored:null},Ct.propTypes={canUpdate:s().bool,projectSettingsStored:s().shape({menuLogo:s().shape({url:s().string,name:s().string})})};const he=Ct;var Ee=t(68718),fe=t.n(Ee);const Dt=o=>fe()(o,(n,a,i)=>{a&&a.url?n[i]={...a,url:(0,l.CR)(a.url)}:n[i]=a},{}),ve=async()=>{const{get:o}=(0,l.tg)(),{data:n}=await o("/admin/project-settings");return Dt(n)},Ce=async o=>{const{post:n}=(0,l.tg)(),{data:a}=await n("/admin/project-settings",o,{headers:{"Content-Type":"multipart/form-data"}});return Dt(a)},Me=o=>{const n=new FormData;return Object.entries(o).forEach(([a,i])=>{i&&i.rawFile instanceof File&&n.append(a,i.rawFile),i&&i.isReset&&n.append(a,null)}),n};var Le=function(){return window&&window.strapi&&window.strapi.isEE?t(78413).Z:t(69767).Z}(),xe=function(){var n=(0,e.useRef)(),a=(0,l.lm)(),i=(0,l.rS)(),u=i.trackUsage,y=(0,c.Z)(),p=y.formatMessage,M=(0,j.useQueryClient)();(0,l.go)();var h=(0,l.L7)(),m=h.latestStrapiReleaseTag,z=h.shouldUpdateStrapi,T=h.strapiVersion,F=(0,L.um)(),W=F.updateProjectSettings,N=(0,l.ss)(J.Z.settings["project-settings"]),V=N.allowedActions,b=V.canRead,Mt=V.canUpdate,Ke=b&&Mt,$e=(0,j.useQuery)("project-settings",ve,{enabled:b}),Ut=$e.data,Ne=(0,j.useMutation)(function(Lt){return Ce(Lt)},{onSuccess:function(at){return(0,v.Z)(I().mark(function et(){var w,k;return I().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return w=at.menuLogo,k=at.authLogo,q.next=3,M.invalidateQueries("project-settings",{refetchActive:!0});case 3:W({menuLogo:w?.url,authLogo:k?.url});case 4:case"end":return q.stop()}},et)}))()}}),Ge=function(at){if(at.preventDefault(),!!Mt){var et=n.current.getValues(),w=Me(et);Ne.mutate(w,{onSuccess:function(){var jt=et.menuLogo,q=et.authLogo;jt.rawFile&&u("didChangeLogo",{logo:"menu"}),q.rawFile&&u("didChangeLogo",{logo:"auth"}),a({type:"success",message:p({id:"app",defaultMessage:"Saved"})})},onError:function(){a({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}})}};return e.createElement(r.A,null,e.createElement(l.SL,{name:"Application"}),e.createElement(Z.o,null,e.createElement("form",{onSubmit:Ge},e.createElement(S.T,{title:p({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:p({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"}),primaryAction:Ke&&e.createElement(R.z,{type:"submit",startIcon:e.createElement(Q.Z,null)},p({id:"global.save",defaultMessage:"Save"}))}),e.createElement(O.D,null,e.createElement(C.k,{direction:"column",alignItems:"stretch",gap:6},e.createElement(C.k,{direction:"column",alignItems:"stretch",gap:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(g.Z,{variant:"delta",as:"h3"},p({id:"global.details",defaultMessage:"Details"})),e.createElement(A.r,{gap:5,as:"dl"},e.createElement(D.P,{col:6,s:12},e.createElement(g.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},p({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),e.createElement(C.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},e.createElement(g.Z,null,"v",T),z&&e.createElement(K.r,{href:"https://github.com/strapi/strapi/releases/tag/".concat(m),isExternal:!0,endIcon:e.createElement(G.Z,null)},p({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"})))),e.createElement(D.P,{col:6,s:12},e.createElement(g.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},p({id:"Settings.application.edition-title",defaultMessage:"current plan"})),e.createElement(C.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},e.createElement(g.Z,null,p({id:"Settings.application.ee-or-ce",defaultMessage:"{communityEdition, select, true {Community Edition} other {Enterprise Edition}}"},{communityEdition:h.communityEdition})),e.createElement(K.r,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:e.createElement(G.Z,null)},p({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),e.createElement(D.P,{col:6,s:12},e.createElement(g.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},p({id:"Settings.application.node-version",defaultMessage:"node version"})),e.createElement(g.Z,{as:"dd"},h.nodeVersion)),e.createElement(Le,null))),b&&Ut&&e.createElement(he,{canUpdate:Mt,ref:n,projectSettingsStored:Ut}))))))};const ye=xe;var Se=t(94654),Re=t.n(Se);const Te=o=>Re()(o,a=>a.links).map(a=>(0,f.ot)(a.Component,a.to,a.exact||!1)),Pe=o=>o.filter(n=>!n.links.every(a=>a.isDisplayed===!1));var It=t(42982);const Oe=[{async Component(){return await t.e(3455).then(t.bind(t,98906))},to:"/settings/roles",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(2544)]).then(t.bind(t,23341))},to:"/settings/roles/duplicate/:id",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(2544)]).then(t.bind(t,23341))},to:"/settings/roles/new",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(2544)]).then(t.bind(t,92100))},to:"/settings/roles/:id",exact:!0},{async Component(){return await t.e(5199).then(t.bind(t,37735))},to:"/settings/users",exact:!0},{async Component(){return await t.e(4263).then(t.bind(t,22282))},to:"/settings/users/:id",exact:!0},{async Component(){return await t.e(5162).then(t.bind(t,3672))},to:"/settings/webhooks/create",exact:!0},{async Component(){return await t.e(5162).then(t.bind(t,42122))},to:"/settings/webhooks/:id",exact:!0},{async Component(){return await t.e(4121).then(t.bind(t,11199))},to:"/settings/webhooks",exact:!0},{async Component(){return await t.e(8056).then(t.bind(t,87427))},to:"/settings/api-tokens",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(9381),t.e(7692),t.e(4299)]).then(t.bind(t,9683))},to:"/settings/api-tokens/create",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(9381),t.e(7692),t.e(92)]).then(t.bind(t,28465))},to:"/settings/api-tokens/:id",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(9381),t.e(3219),t.e(4816)]).then(t.bind(t,39987))},to:"/settings/transfer-tokens/create",exact:!0},{async Component(){return await t.e(9600).then(t.bind(t,70798))},to:"/settings/transfer-tokens",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(9381),t.e(3219),t.e(2492)]).then(t.bind(t,9452))},to:"/settings/transfer-tokens/:id",exact:!0}];var De=function(){return window&&window.strapi&&window.strapi.isEE?t(5420).Z:t(35301).Z}();const Ie=[].concat((0,It.Z)(De),(0,It.Z)(Oe));var Ae=t(73727),Be=t(53192),Ue=t(60984),je=t(34446),ze=t(29489),Ze=t(52305);const At=({menu:o})=>{const{formatMessage:n}=(0,c.Z)(),{trackUsage:a}=(0,l.rS)(),{pathname:i}=(0,d.TH)(),y=Pe(o).map(h=>({...h,title:h.intlLabel,links:h.links.map(m=>({...m,title:m.intlLabel,name:m.id}))})),p=n({id:"global.settings",defaultMessage:"Settings"}),M=(h=null)=>{a("willNavigate",{from:i,to:h})};return e.createElement(Be.m,{ariaLabel:p},e.createElement(Ue.p,{label:p}),e.createElement(je.Z,null,y.map(h=>e.createElement(ze.D,{key:h.id,label:n(h.intlLabel)},h.links.map(m=>e.createElement(Ze.E,{as:Ae.OL,withBullet:m.hasNotification,to:m.to,onClick:()=>M(m.to),key:m.id},n(m.intlLabel)))))))};At.propTypes={menu:s().array.isRequired};const Fe=At;function Bt(){const{settingId:o}=(0,d.UO)(),{settings:n}=(0,l.j1)(),{formatMessage:a}=(0,c.Z)(),{isLoading:i,menu:u}=(0,L.Te)(),y=(0,e.useMemo)(()=>(0,f.WW)(Ie.map(({to:h,Component:m,exact:z})=>(0,f.ot)(m,h,z))),[]),p=Te(n);if(i)return e.createElement(l.dO,null);if(!o)return e.createElement(d.l_,{to:"/settings/application-infos"});const M=a({id:"global.settings",defaultMessage:"Settings"});return e.createElement(r.A,{sideNav:e.createElement(Fe,{menu:u})},e.createElement(x.q,{title:M}),e.createElement(d.rs,null,e.createElement(d.AW,{path:"/settings/application-infos",component:ye,exact:!0}),y,p))}const We=(0,e.memo)(Bt)},69767:(B,E,t)=>{"use strict";t.d(E,{Z:()=>l});const l=()=>null},35301:(B,E,t)=>{"use strict";t.d(E,{Z:()=>l});const l=[]},78413:(B,E,t)=>{"use strict";t.d(E,{Z:()=>O});var e=t(67294),l=t(86896),d=t(74571),r=t(75515),c=t(11047),x=t(84495),L=t(52624),f=t(36182),v=t(51277),P=t(17772),I=t(64289),j=t(69483);const Z="https://cloud.strapi.io/profile/billing",S="https://strapi.io/billing/request-seats",O=()=>{const{formatMessage:C}=(0,l.Z)(),{license:g}=(0,j.q5)(),{licenseLimitStatus:A,enforcementUserCount:D,permittedSeats:K,isHostedOnStrapiCloud:Q}=g?.data??{};return K?e.createElement(d.P,{col:6,s:12},e.createElement(r.Z,{variant:"sigma",textColor:"neutral600"},C({id:"Settings.application.admin-seats",defaultMessage:"Admin seats"})),e.createElement(c.k,{gap:2},e.createElement(c.k,null,e.createElement(r.Z,{as:"p"},C({id:"Settings.application.ee.admin-seats.count",defaultMessage:"<text>{enforcementUserCount}</text>/{permittedSeats}"},{permittedSeats:K,enforcementUserCount:D,text:G=>e.createElement(r.Z,{fontWeight:"semiBold",textColor:D>K?"danger500":null},G)}))),A==="OVER_LIMIT"&&e.createElement(x.u,{description:C({id:"Settings.application.ee.admin-seats.at-limit-tooltip",defaultMessage:"At limit: add seats to invite more users"})},e.createElement(L.J,{width:`${(0,I.Q1)(14)}rem`,height:`${(0,I.Q1)(14)}rem`,color:"danger500",as:v.Z}))),e.createElement(f.r,{href:Q?Z:S,isExternal:!0,endIcon:e.createElement(P.Z,null)},C({id:"Settings.application.ee.admin-seats.add-seats",defaultMessage:"{isHostedOnStrapiCloud, select, true {Add seats} other {Contact sales}}"},{isHostedOnStrapiCloud:Q}))):null}},5420:(B,E,t)=>{"use strict";t.d(E,{Z:()=>l});const e=[];window.strapi.features.isEnabled(window.strapi.features.SSO)&&e.push({async Component(){return await t.e(302).then(t.bind(t,40316))},to:"/settings/single-sign-on",exact:!0}),window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({async Component(){return await Promise.all([t.e(3486),t.e(7027),t.e(8155)]).then(t.bind(t,97259))},to:"/settings/review-workflows",exact:!0}),window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS)&&e.push({async Component(){return await t.e(2812).then(t.bind(t,35915))},to:"/settings/audit-logs",exact:!0});const l=e},94654:(B,E,t)=>{var e=t(21078),l=t(35161);function d(r,c){return e(l(r,c),1)}B.exports=d},35161:(B,E,t)=>{var e=t(29932),l=t(67206),d=t(69199),r=t(1469);function c(x,L){var f=r(x)?e:d;return f(x,l(L,3))}B.exports=c},17034:(B,E,t)=>{"use strict";t.d(E,{A:()=>f});var e=t(85893),l=t(67294),d=t(45697),r=t(1565),c=t(41580);const x=(0,r.ZP)(c.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:v})=>v?"auto 1fr":"1fr"};
`,L=(0,r.ZP)(c.x)`
  overflow-x: hidden;
`,f=({sideNav:v,children:P})=>(0,e.jsxs)(x,{hasSideNav:!!v,children:[v,(0,e.jsx)(L,{paddingBottom:10,children:P})]});f.defaultProps={sideNav:void 0},f.propTypes={children:d.node.isRequired,sideNav:d.node}},53192:(B,E,t)=>{"use strict";t.d(E,{m:()=>f});var e=t(85893),l=t(67294),d=t(45697),r=t(1565),c=t(11276);const x=`${232/16}rem`,L=(0,r.ZP)(c.r)`
  width: ${x};
  background: ${({theme:v})=>v.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:v})=>v.colors.neutral200};
  z-index: 1;
`,f=({ariaLabel:v,...P})=>(0,e.jsx)(L,{"aria-label":v,as:"nav",...P});f.propTypes={ariaLabel:d.string.isRequired}},60984:(B,E,t)=>{"use strict";t.d(E,{p:()=>C});var e=t(85893),l=t(67294),d=t(97184),r=t(45697),c=t(1565),x=t(7801),L=t(2504);const f=g=>{const A=(0,l.useRef)();return(0,l.useEffect)(()=>{A.current=g}),A.current};var v=t(70004),P=t(41580),I=t(8509),j=t(49123),Z=t(11047),S=t(75515),R=t(12028);const O=(0,c.ZP)(v.i)`
  width: ${24/16}rem;
  background-color: ${({theme:g})=>g.colors.neutral200};
`,C=({as:g,label:A,searchLabel:D,searchable:K,onChange:Q,value:G,onClear:J,onSubmit:_,id:s})=>{const[U,$]=(0,l.useState)(!1),X=f(U),nt=(0,L.M)(s),Y=(0,l.useRef)(),tt=(0,l.useRef)();(0,l.useEffect)(()=>{U&&Y.current&&Y.current.focus(),X&&!U&&tt.current&&tt.current.focus()},[U,X]);const ot=()=>{$(H=>!H)},st=H=>{J(H),Y.current.focus()},lt=H=>{H.relatedTarget?.id!==nt&&$(!1)},it=H=>{H.key===x.y.ESCAPE&&$(!1)};return U?(0,e.jsxs)(P.x,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[(0,e.jsx)(I.U,{children:(0,e.jsx)(j.w,{name:"searchbar",value:G,onChange:Q,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:it,ref:Y,onBlur:lt,onClear:st,onSubmit:_,clearLabel:"Clear",size:"S",children:D})}),(0,e.jsx)(P.x,{paddingLeft:2,paddingTop:4,children:(0,e.jsx)(O,{})})]}):(0,e.jsxs)(P.x,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[(0,e.jsxs)(Z.k,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,e.jsx)(S.Z,{variant:"beta",as:g,children:A}),K&&(0,e.jsx)(R.h,{ref:tt,onClick:ot,label:D,icon:(0,e.jsx)(d.Z,{})})]}),(0,e.jsx)(P.x,{paddingTop:4,children:(0,e.jsx)(O,{})})]})};C.defaultProps={as:"h2",searchable:!1,onChange(){},onClear(){},onSubmit(){},value:"",searchLabel:"",id:void 0},C.propTypes={as:r.string,id:r.string,label:r.string.isRequired,onChange:r.func,onClear:r.func,onSubmit:r.func,searchLabel:r.string,searchable:r.bool,value:r.string}},52305:(B,E,t)=>{"use strict";t.d(E,{E:()=>Z});var e=t(85893),l=t(67294),d=t(71818),r=t(45697),c=t(1565),x=t(41580),L=t(75515),f=t(11047),v=t(63507);const P=(0,c.ZP)(x.x)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:S})=>S.colors.neutral800};
  svg > * {
    fill: ${({theme:S})=>S.colors.neutral600};
  }

  &.active {
    ${({theme:S})=>`
      background-color: ${S.colors.primary100};
      border-right: 2px solid ${S.colors.primary600};
      svg > * {
        fill: ${S.colors.primary700};
      }
      ${L.Z} {
        color: ${S.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,I=(0,c.ZP)(d.Z)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:S,$active:R})=>R?S.colors.primary600:S.colors.neutral600};
  }
`,j=c.ZP.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,Z=l.forwardRef(({children:S,icon:R,withBullet:O,as:C,isSubSectionChild:g,...A},D)=>(0,e.jsxs)(P,{as:C,icon:R,background:"neutral100",paddingLeft:g?9:7,paddingBottom:2,paddingTop:2,ref:D,...A,children:[(0,e.jsxs)(f.k,{children:[R?(0,e.jsx)(j,{children:R}):(0,e.jsx)(I,{}),(0,e.jsx)(x.x,{paddingLeft:2,children:(0,e.jsx)(L.Z,{as:"span",children:S})})]}),O&&(0,e.jsx)(x.x,{as:f.k,paddingRight:4,children:(0,e.jsx)(I,{$active:!0})})]}));Z.displayName="SubNavLink",Z.defaultProps={as:v.f,icon:null,isSubSectionChild:!1,withBullet:!1},Z.propTypes={as:r.elementType,children:r.node.isRequired,icon:r.element,isSubSectionChild:r.bool,withBullet:r.bool}},29489:(B,E,t)=>{"use strict";t.d(E,{D:()=>R});var e=t(85893),l=t(67294),d=t(45697),r=t(1565),c=t(12645),x=t(11047),L=t(41580),f=t(75515);const v=(0,r.ZP)(x.k)`
  border: none;
  padding: 0;
  background: transparent;
`,P=r.ZP.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:O})=>O?"0deg":"180deg"});
`,I=({collapsable:O,label:C,onClick:g,ariaExpanded:A,ariaControls:D})=>O?(0,e.jsxs)(v,{as:"button",onClick:g,"aria-expanded":A,"aria-controls":D,textAlign:"left",children:[(0,e.jsx)(L.x,{paddingRight:1,children:(0,e.jsx)(f.Z,{variant:"sigma",textColor:"neutral600",children:C})}),O&&(0,e.jsx)(P,{rotated:A,children:(0,e.jsx)(c.Z,{"aria-hidden":!0})})]}):(0,e.jsx)(v,{children:(0,e.jsx)(L.x,{paddingRight:1,children:(0,e.jsx)(f.Z,{variant:"sigma",textColor:"neutral600",children:C})})});I.defaultProps={ariaControls:null,ariaExpanded:null,collapsable:!1,onClick(){}},I.propTypes={ariaControls:d.string,ariaExpanded:d.bool,collapsable:d.bool,label:d.string.isRequired,onClick:d.func};var j=t(2504),Z=t(30190);const S=(0,r.ZP)(L.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:O})=>O.colors.neutral500};
    }
  }
`,R=({collapsable:O,label:C,badgeLabel:g,children:A,id:D})=>{const[K,Q]=(0,l.useState)(!0),G=(0,j.M)(D);return(0,e.jsxs)(x.k,{direction:"column",alignItems:"stretch",gap:1,children:[(0,e.jsx)(S,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,e.jsxs)(L.x,{position:"relative",paddingRight:g?6:0,children:[(0,e.jsx)(I,{onClick:()=>{Q(J=>!J)},ariaExpanded:K,ariaControls:G,collapsable:O,label:C}),g&&(0,e.jsx)(Z.C,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",children:g})]})}),(!O||K)&&(0,e.jsx)("ol",{id:G,children:l.Children.map(A,(J,_)=>(0,e.jsx)("li",{children:J},_))})]})};R.defaultProps={badgeLabel:null,collapsable:!1,id:void 0},R.propTypes={badgeLabel:d.string,children:d.node.isRequired,collapsable:d.bool,id:d.string,label:d.string.isRequired}},34446:(B,E,t)=>{"use strict";t.d(E,{Z:()=>x});var e=t(85893),l=t(67294),d=t(45697),r=t(41580),c=t(11047);const x=({children:L,spacing:f=2,horizontal:v=!1,...P})=>(0,e.jsx)(r.x,{paddingTop:2,paddingBottom:4,children:(0,e.jsx)(c.k,{as:"ol",gap:f,direction:v?"row":"column",alignItems:v?"center":"stretch",...P,children:l.Children.map(L,(I,j)=>(0,e.jsx)("li",{children:I},j))})});x.propTypes={children:d.node.isRequired}},71818:(B,E,t)=>{"use strict";t.d(E,{Z:()=>d});var e=t(85893);const l=r=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 4 4",...r,children:(0,e.jsx)("rect",{width:4,height:4,fill:"#A5A5BA",rx:2})}),d=l}}]);
